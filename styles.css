/* ===== Only your 4 colors ===== */
:root{
  --brown:#bd8d75;  /* side face */
  --pink:#e9d3c5;   /* page bg */
  --cream:#e8e1d4;  /* top face */
  --green:#42633d;  /* text/icons */

  /* design grid (match phone mock ~390px width) */
  --W: min(100vw, 430px);
  --u: calc(var(--W) / 390);

  --side:  calc(10 * var(--u));   /* side-face offset */
  --press: calc(10 * var(--u));   /* press travel */
  --gap:   calc(18 * var(--u));
  --pad:   calc(16 * var(--u));
  --rad:   calc(24 * var(--u));
  --rad-lg:calc(26 * var(--u));

  --label: calc(20 * var(--u));
  --big:   calc(24 * var(--u));
  --speed: 90ms;
}

*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html,body{height:100%}
body{
  margin:0;
  background:var(--pink);
  color:var(--green);
  font-family: ui-sans-serif,-apple-system,system-ui,Segoe UI,Roboto,Arial;
}

main{position:relative; overflow:hidden}
.view{
  position:absolute; inset:0; padding:calc(16 * var(--u));
  overflow:auto; background:var(--pink);
  transform:translateX(100%); opacity:0;
  transition: transform .24s ease-out, opacity .24s ease-out;
}
.view.active{transform:translateX(0); opacity:1}

/* ===== topbar (hidden on home) ===== */
.topbar{
  position:sticky; top:0; z-index:20;
  display:flex; align-items:center; justify-content:space-between;
  padding:calc(12 * var(--u)) calc(16 * var(--u));
  background:var(--pink);
  transform:translateY(-100%); opacity:0; pointer-events:none;
  transition: opacity .15s ease, transform .15s ease;
}
.topbar.show{transform:translateY(0); opacity:1; pointer-events:auto}

.back-link{
  display:inline-flex; align-items:center; gap:calc(6 * var(--u));
  border:0; background:none; color:var(--green);
  font-size:calc(20 * var(--u)); padding:calc(6 * var(--u)) calc(8 * var(--u));
  border-radius:calc(16 * var(--u));
}
.back-link:active{transform:scale(.98)}

/* ===== Language pill ===== */
.lang-toggle{position:relative}
.lang-toggle .pill{
  position:relative; width:calc(108 * var(--u)); height:calc(40 * var(--u));
  background:var(--brown); border-radius:999px;
  display:flex; align-items:center; justify-content:space-between;
  padding:0 calc(16 * var(--u));
}
.lang-toggle .label{font-weight:800}
.lang-toggle .thumb{
  position:absolute; top:calc(4 * var(--u)); bottom:calc(4 * var(--u)); left:calc(4 * var(--u));
  width:calc(54 * var(--u)); border-radius:999px; background:var(--cream);
  transition:transform var(--speed) ease;
  box-shadow:0 0 0 calc(2 * var(--u)) var(--brown) inset;
}
.lang-toggle.eng .thumb{transform:translateX(0)}
.lang-toggle.fra .thumb{transform:translateX(calc(50 * var(--u)))}
.lang-toggle.eng .eng{color:var(--green)} .lang-toggle.eng .fra{color:var(--pink)}
.lang-toggle.fra .fra{color:var(--green)} .lang-toggle.fra .eng{color:var(--pink)}
.lang-toggle.home{position:absolute; right:calc(16 * var(--u)); top:calc(16 * var(--u)); z-index:3}

/* ===== HOME precise layout ===== */
.view-home{padding-top:calc(78 * var(--u)); display:grid; place-items:start center}
.view-home > *{width:min(430px,100%)}

.palmier-logo{
  width:calc(260 * var(--u)); max-width:66vw;
  display:block; margin:calc(18 * var(--u)) auto calc(8 * var(--u));
}

.socials{
  display:flex; justify-content:center; gap:calc(18 * var(--u));
  margin:calc(10 * var(--u)) 0 calc(18 * var(--u));
}

/* 3D button system (side face is not a shadow) */
.btn-3d{ position:relative; display:block; border:0; background:var(--cream); border-radius:var(--rad);
  box-shadow:0 0 0 calc(2 * var(--u)) var(--cream) inset; transition:transform var(--speed) ease }
.btn-3d::before{
  content:""; position:absolute; inset:0; border-radius:inherit; background:var(--brown);
  transform:translate(var(--side), var(--side)); z-index:-1;
}
.btn-3d:active{ transform:translate(var(--press), var(--press)) }
.btn-3d:active::before{
  transform:translate(calc(var(--side) - var(--press)), calc(var(--side) - var(--press)));
}

/* socials as round 3D buttons */
.circle-btn{
  width:calc(64 * var(--u)); height:calc(64 * var(--u)); border-radius:50%;
  display:grid; place-items:center;
}
.circle-btn img{width:calc(28 * var(--u)); height:calc(28 * var(--u))}

/* 2x2 square grid */
.grid{
  display:grid; grid-template-columns:1fr 1fr; gap:var(--gap);
  padding:0 calc(6 * var(--u)) calc(16 * var(--u));
}
.tile{
  aspect-ratio:1/1; border-radius:var(--rad-lg);
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  text-align:center; padding:calc(6 * var(--u));
}
.tile img{ width:calc(64 * var(--u)); height:calc(64 * var(--u)); margin-bottom:calc(10 * var(--u)) }
.tile span{ font-weight:900; font-size:var(--label); letter-spacing:.6px }

/* Wide CTAs */
.wide-btn{
  margin:calc(8 * var(--u)) calc(6 * var(--u)) calc(14 * var(--u));
  padding:calc(18 * var(--u));
  border-radius:var(--rad-lg);
  display:flex; align-items:center; gap:calc(14 * var(--u));
}
.wide-btn img{width:calc(44 * var(--u)); height:calc(44 * var(--u))}
.wide-btn span{font-weight:900; font-size:var(--big)}

.review-btn{
  margin:0 calc(6 * var(--u));
  padding:calc(18 * var(--u));
  border-radius:var(--rad-lg);
  display:flex; align-items:center; justify-content:space-between;
}
.review-btn img{width:calc(28 * var(--u)); height:calc(28 * var(--u))}
.review-btn span{font-weight:900; font-size:var(--big)}

/* ===== PDF page (Food) ===== */
.view-food .pdf-wrap{
  height:calc(100dvh - (160 * var(--u)));
  border-radius:calc(18 * var(--u)); overflow:hidden; background:var(--cream);
}
#foodPdf{border:0; width:100%; height:100%}
.pager{
  margin:calc(12 * var(--u)) 0;
  display:flex; align-items:center; justify-content:center; gap:calc(18 * var(--u));
}
.page-indicator{font-weight:800; letter-spacing:.8px; font-size:calc(18 * var(--u))}
.arrow-btn{
  width:calc(64 * var(--u)); height:calc(64 * var(--u)); border:0; border-radius:999px; background:var(--cream); position:relative
}
.arrow-btn::after{
  content:""; position:absolute; inset:0; margin:auto; width:0; height:0;
  border-top:calc(12 * var(--u)) solid transparent; border-bottom:calc(12 * var(--u)) solid transparent;
}
.arrow-btn.left::after{ border-right:calc(18 * var(--u)) solid var(--green) }
.arrow-btn.right::after{ border-left:calc(18 * var(--u)) solid var(--green) }

/* ===== Image pages ===== */
.view-image img{
  display:block; width:100%; height:auto; border-radius:calc(18 * var(--u)); background:var(--cream);
}

/* ===== Beans grid ===== */
.view-beans{ padding-top:calc(8 * var(--u)) }
.beans-grid{
  display:grid; grid-template-columns:1fr 1fr; gap:var(--gap); padding-bottom:calc(40 * var(--u));
}
.bean{ height:calc(160 * var(--u)); display:grid; place-items:center; border-radius:var(--rad-lg) }
.bean::before{ content:""; position:absolute; inset:0; border-radius:inherit; background:var(--brown); transform:translate(var(--side), var(--side)); z-index:-1 }
.bean img{ position:relative; width:78%; height:auto }

/* Utility */
img{max-width:100%; height:auto}

/* --- Safety override: views visible by default --- */
.view { transform: none !important; opacity: 1 !important; }
.view:not(.active) { transform: translateX(100%) !important; opacity: 0 !important; }

